const staticCacheName="restaurant-cache-v2",OFFLINE_URL="offline.min.html",filesToCache=["/","./manifest.json","./index.html","./restaurant.min.html","./404.min.html","./offline.min.html","./css/styles.min.css","./js/min/lazyload.min.js","./js/min/idb.min.js","./js/min/dbhelper.min.js","./js/min/main.min.js","./js/restaurant_info.js","./data/restaurants.json","./img/1.jpg","./img/2.jpg","./img/3.jpg","./img/4.jpg","./img/5.jpg","./img/6.jpg","./img/7.jpg","./img/8.jpg","./img/9.jpg","./img/10.jpg","./img/large/1.jpg","./img/large/2.jpg","./img/large/3.jpg","./img/large/4.jpg","./img/large/5.jpg","./img/large/6.jpg","./img/large/7.jpg","./img/large/8.jpg","./img/large/9.jpg","./img/large/10.jpg","./img/small/1.jpg","./img/small/2.jpg","./img/small/3.jpg","./img/small/4.jpg","./img/small/5.jpg","./img/small/6.jpg","./img/small/7.jpg","./img/small/8.jpg","./img/small/9.jpg","./img/small/10.jpg","./img/medium/1.jpg","./img/medium/2.jpg","./img/medium/3.jpg","./img/medium/4.jpg","./img/medium/5.jpg","./img/medium/6.jpg","./img/medium/7.jpg","./img/medium/8.jpg","./img/medium/9.jpg","./img/medium/10.jpg","./img/restaurant-icon.png"];self.addEventListener("install",function(i){console.log("[ServiceWorker] Install"),i.waitUntil(caches.open(staticCacheName).then(function(i){return console.log("Cache is opened"),i.addAll(filesToCache)}))}),self.addEventListener("active",function(i){i.waitUntil(caches.keys().then(function(i){return Promise.all(i.filter(function(i){return i.startsWith("restaurant-")&&i!=staticCacheName}).map(function(i){return caches.delete(i)}))}))}),self.addEventListener("message",function(i){"skipWaiting"===i.data.action&&self.skipWaiting()}),self.addEventListener("fetch",function(i){i.respondWith(caches.match(i.request,{ignoreSearch:!0}).then(function(e){return e||fetch(i.request).then(function(i){return 404===i.status?caches.match("404.min.html"):i})}).catch(function(){return caches.match(OFFLINE_URL)}))});